{"version":3,"sources":["core/types.tsx","core/classes/GameObject.ts","core/classes/LosingLengthSnake.ts","core/classes/Snake.ts","core/classes/Food.ts","core/game.ts","core/classes/Game.ts","components/Cell.tsx","components/Table.tsx","components/AlignCenter.tsx","components/RainbowButton.tsx","components/Popup.tsx","components/Paper.tsx","components/MenuBar.tsx","components/Copyright.tsx","components/Game.tsx","index.tsx"],"names":["GameState","CellType","Directions","GameObject","defaultState","cells","localState","this","currentState","Error","forward","dryRun","reduceForward","reduceBackward","max","Math","floor","random","index","trunc","Date","now","y","x","filter","coordinate","type","LosingLengthSnake","stepsLeftToDecreaseLength","stepsForEachFood","gameCells","collision","collisionOthers","tastyFood","looseLength","usualStepForward","snake","length","getNextCoord","slice","_died","nextCoord","nextCell","food","params","_name","currentDegree","nextDegree","steps","tableSize","name","direction","step","map","item","y1","x1","find","y0","x0","wall","isNextDirectionCorrect","abs","Left","Right","Down","Up","Food","lastDinnerTime","dinnerRefreshSeconds","secondsFromLastDinner","dinnerTime","randomCoordinate","findCellsByCoord","moreFoooood","getTime","secondsFromUnixEpoch","size","fullSize","state","snakes","_cellsForView","reset","makeCellsForView","center","gameObjects","Array","reduce","array","methodName","accumulator","reducer","fill","empty","makeEmptyCellsForView","cellTypeIndex","value","Object","keys","indexOf","cellsSorted","sort","a","b","coordinateToIndex","l","indexToCoordinate","angle","died","score","stepsLeft","CellCssGrid","cellType","className","memo","whyDidYouRender","TableCssGrid","classes","container","style","gridTemplateColumns","sqrt","gridTemplateRows","Cell","key","withStyles","width","height","border","borderRadius","display","gridColumnGap","gridRowGap","wrapper","justifyContent","alignItems","margin","wrappedMobile","children","isMobile","classNames","styles","btn","minWidth","padding","fontWeight","fontSize","backgroundColor","borderImage","borderImageSlice","backgroundClip","cursor","green","greenButtonText","background","WebkitBackgroundClip","WebkitTextFillColor","orange","orangeButtonText","blue","blueButtonText","color","onClick","_onClick","useCallback","containerClasses","textClasses","top","left","article","marginTop","text","title","marginBottom","description","start","_start","_reset","AlignCenter","ready","pause","gameOver","paper","content","font","menu","zoom","_pause","xmlns","viewBox","d","bottom","link","textShadow","textDecoration","href","rel","target","spacer","useState","setState","game","setCells","setScore","setStepsLeft","callback","event","dir","code","running","useEventListener","handlers","useSwipeable","onSwiped","preventDefaultTouchmoveEvent","trackMouse","useEffect","tmp","setInterval","tick","clearTimeout","Table","render","document","getElementById"],"mappings":"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","file":"static/js/main.c208b212.chunk.js","sourcesContent":["export enum GameState {\n    ready = 0,\n    running = 1,\n    pause = 2,\n    gameOver = 3,\n};\n\nexport enum CellType {\n    empty = 'empty',\n    wall = 'wall',\n    food = 'food',\n    snake = 'snake',\n};\n\n// *******************************************\n// Coordinates and direction on the table\n// *******************************************\nexport type TCoordinate = [number, number]; // y, x\nexport type TCoordinates = Array<TCoordinate>;\nexport enum Directions {\n    Right = 0,\n    Down = 90,\n    Left = 180,\n    Up = 270,\n};\n\nexport type TDegree = number;\n\nexport type TGameState = {\n    cells: TCells,\n};\n\nexport type TCell = {\n    coordinate: TCoordinate,\n    type: CellType,\n};\n\nexport type TCells = Array<TCell>;\nexport type TCellTypes = Array<CellType>;\n","import { TGameState, TCoordinate, TCells } from '../types';\n\nexport abstract class GameObject {\n  protected defaultState: TGameState = { cells: [] };\n  protected localState: TGameState = this.defaultState;\n\n  protected reduceForward(currentState: TGameState): TGameState {\n    throw new Error('Must be implemented!');\n  }\n\n  protected reduceBackward(currentState: TGameState): TGameState {\n    return currentState;\n  }\n\n  public reducer(currentState: TGameState = this.defaultState, forward: boolean = true, dryRun: boolean = false): TGameState {\n    if (!dryRun && forward) {\n      this.localState = this.reduceForward(currentState);\n    }\n\n    if (!dryRun && !forward) {\n      return this.reduceBackward(currentState);\n    }\n\n    return {\n      ...currentState,\n      ...this.localState,\n      cells: [\n        ...currentState.cells,\n        ...this.localState.cells,\n      ],\n    };\n  }\n\n  protected random(max: number) {\n    return Math.floor((Math.random() * max));\n  }\n\n  protected indexToCoordinate(index: number, max: number): TCoordinate {\n    return [Math.trunc(index / max), Math.trunc(index % max)];\n  }\n\n  protected secondsFromUnixEpoch() {\n    return Date.now() / 1000;\n  }\n\n  protected randomCoordinate(max: number): TCoordinate {\n    return [this.random(max), this.random(max)];\n  }\n\n  protected findCellsByCoord(cells: TCells, [y, x]: TCoordinate): TCells {\n    return cells.filter(({ coordinate, type }) => coordinate[0] === y && coordinate[1] === x);\n  }\n}","import { CellType, TCells } from '../types';\nimport { Snake } from './Snake';\n\nexport class LosingLengthSnake extends Snake {\n    protected stepsLeftToDecreaseLength: number = 10;\n    protected stepsForEachFood: number = 10;\n    \n    get stepsLeft(): number {\n        return ((this.snake.length - 1) * this.stepsForEachFood) + this.stepsLeftToDecreaseLength;\n    }\n\n    protected step(gameCells: TCells): void {\n        if (this.collision(gameCells)) { // collision with tail check\n            return;\n        }\n\n        if (this.collisionOthers(gameCells)) { // collision in another cells check\n            return;\n        }\n\n        if (this.tastyFood(gameCells)) { // find food\n            return;\n        }\n\n        if (this.looseLength(gameCells)) { // seems no steps left to move forward, decreasing length\n            return;\n        }\n\n        if (this.usualStepForward(gameCells)) {\n            return;\n        }\n    }\n\n    protected looseLength(gameCells: TCells): boolean {\n        this.stepsLeftToDecreaseLength--;\n        if (this.stepsLeftToDecreaseLength === 0) {\n            if (this.snake.length >= 2) {\n                this.stepsLeftToDecreaseLength = this.stepsForEachFood;\n                this.snake = [this.getNextCoord(), ...this.snake.slice(0, this.snake.length - 2)];\n                return true;\n            }\n            return this._died = true;\n        }\n        return false;\n    }\n\n    /**\n     * Detect food in next cell\n     * If food found we have to return next coord for snake's head plus current snake\n     * \n     * Extended logic is: add extra steps on new cell with food\n     * \n     * @returns Return true if we need to stop step managing\n     */\n    protected tastyFood(gameCells: TCells): boolean {\n        const nextCoord = this.getNextCoord();\n        const nextCell = this.nextCell(gameCells);\n\n        if (nextCell?.type === CellType.food) {\n            this.stepsLeftToDecreaseLength = this.stepsForEachFood;\n            this.snake = [nextCoord, ...this.snake];\n            return true;\n        }\n\n        return false;\n    }\n};","import { GameObject } from './GameObject';\nimport {\n    TGameState,\n    TDegree,\n    TCoordinate,\n    TCoordinates,\n    Directions,\n    CellType,\n    TCells,\n    TCell,\n} from '../types';\n\nexport type TSnakeConstructorParams = {\n    name: string;\n    snake: TCoordinates;\n    direction?: TDegree;\n    tableSize?: number;\n};\n\nexport class Snake extends GameObject {\n    private _name: string;\n    protected _died: boolean = false;\n    protected snake: TCoordinates;\n    private currentDegree: TDegree;\n    private nextDegree: TDegree;\n    protected steps: number = -1;\n    private tableSize: number;\n\n    constructor(params: TSnakeConstructorParams) {\n        super();\n        this._name = params.name || 'Unknown snake';\n        this.snake = params.snake;\n        this.currentDegree = params.direction || 0;\n        this.nextDegree = this.currentDegree;\n        this.tableSize = params.tableSize || 100;\n    }\n\n    public set direction(nextDegree: TDegree) {\n        this.nextDegree = nextDegree;\n    }\n\n    public get name(): string {\n        return this._name;\n    }\n\n    public get length(): number {\n        return this.snake.length;\n    }\n\n    get died(): boolean {\n        return this._died;\n    }\n\n    get score(): number {\n        return this.steps > 0 ? this.steps : 0;\n    }\n\n    protected reduceForward(currentState: TGameState, dryRun: boolean = false): TGameState {\n        if (!dryRun) {\n            if (!this._died) {\n                if (this.steps >= 0) {\n                    this.step(currentState.cells);\n                }\n                this.steps++;\n            }\n        }\n\n        return { cells: this.snake.map((item, index) => ({ coordinate: item, type: CellType.snake }))};\n    }\n\n    protected step(gameCells: TCells): void {\n        if (this.collision(gameCells)) { // check collision with tail\n            return;\n        }\n\n        if (this.collisionOthers(gameCells)) { // check collision in another cells\n            return;\n        }\n\n        if (this.tastyFood(gameCells)) { // find food\n            return;\n        }\n\n        if (this.usualStepForward(gameCells)) { // just move to next cell\n            return;\n        }\n    }\n\n    /**\n     * Return possible cell if it already exists in array based on your snake movement way\n     * \n     * In this cell can be: food, another snake or another type of cell\n     * In this cell can't be current snake tail\n     */\n    protected nextCell(gameCells: TCells): TCell | undefined {\n        const [y1, x1] = this.getNextCoord();\n        return gameCells.find(({ coordinate: [y0, x0] }) => y0 === y1 && x0 === x1);\n    }\n\n    /**\n     * Handle here collision with your tail\n     */\n    protected collision(gameCells: TCells): boolean {\n        const nextCoord = this.getNextCoord();\n\n        if (this.snake.find(([y, x]) => nextCoord[0] === y && nextCoord[1] === x)) {\n            return this._died = true;\n        }\n        return false;\n    }\n\n    /**\n     * Handle here usual step forward minus one tail block\n     */\n    protected usualStepForward(gameCells: TCells): boolean {\n        this.snake = [this.getNextCoord(), ...this.snake.slice(0, this.snake.length - 1)];\n        return true;\n    }\n\n    /**\n     * Detect food in next cell\n     * If food found we have to return next coord for snake's head plus current snake\n     * \n     * @returns Return true if we need to stop step managing\n     */\n    protected tastyFood(gameCells: TCells): boolean {\n        if (this.nextCell(gameCells)?.type === CellType.food) {\n            this.snake = [this.getNextCoord(), ...this.snake];\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Handle here collision with another objects in cells\n     */\n    protected collisionOthers(gameCells: TCells): boolean {\n        const nextCell = this.nextCell(gameCells);\n        \n        if (nextCell?.type === CellType.snake || nextCell?.type === CellType.wall) {\n            return this._died = true;\n        }\n        return false;\n    }\n\n    protected getNextCoord(): TCoordinate {\n        const [y, x] = this.snake.slice(0)[0];\n        const isNextDirectionCorrect = Math.abs(this.currentDegree - this.nextDegree) !== 180;\n        if (isNextDirectionCorrect) {\n            this.currentDegree = this.nextDegree;\n        }\n    \n        switch (isNextDirectionCorrect ? this.nextDegree : this.currentDegree) {\n            case Directions.Left:\n                return [y, x === 0 ? this.tableSize - 1 : x - 1];\n            case Directions.Right:\n                return [y, x + 1 === this.tableSize ? 0 : x + 1];\n            case Directions.Down:\n                return [y + 1 === this.tableSize ? 0 : y + 1, x];\n            case Directions.Up:\n                return [y === 0 ? this.tableSize - 1 : y - 1, x];\n        };\n        throw new Error(`I have no idea how to move this degree o_O: ${this.nextDegree}`)\n    }\n};","import { TGameState, CellType } from '../types';\nimport { GameObject } from './GameObject';\n\nexport class Food extends GameObject {\n  private lastDinnerTime: number;\n  public tableSize: number;\n  private dinnerRefreshSeconds: number = 7;\n\n  constructor(tableSize: number, lastDinnerTime: number = 0) {\n    super();\n    this.tableSize = tableSize;\n    this.lastDinnerTime = lastDinnerTime;\n  }\n\n  protected reduceForward(currentState: TGameState): TGameState {\n    if (this.secondsFromLastDinner() > this.dinnerRefreshSeconds) {\n      this.dinnerTime();\n      return this.localState = {\n        cells: [{\n          coordinate: this.randomCoordinate(this.tableSize),\n          type: CellType.food,\n        }],\n      };\n    }\n  \n    return this.localState;\n  }\n\n  protected reduceBackward(currentState: TGameState): TGameState {\n    if (this.findCellsByCoord(currentState.cells, this.localState.cells[0].coordinate).length === 2) {\n        this.moreFoooood()\n    }\n    return currentState;\n  }\n\n  protected dinnerTime() {\n    this.lastDinnerTime = new Date().getTime() / 1000;\n  }\n\n  protected secondsFromLastDinner() {\n    return this.secondsFromUnixEpoch() - this.lastDinnerTime;\n  }\n\n  get dinnerEachSeconds(): number {\n    return this.dinnerRefreshSeconds;\n  }\n\n  protected moreFoooood() {\n    this.lastDinnerTime = 0;\n  }\n}","import { Game } from './classes/Game';\n\nexport default new Game(10);","import { LosingLengthSnake } from './LosingLengthSnake';\nimport { Food } from './Food';\nimport { GameObject } from './GameObject';\nimport { TCellTypes, TCell, TGameState, TDegree, CellType, TCoordinate } from '../types';\n\ninterface IGame {\n    reset(): void;\n    tick(): TCellTypes;\n    cells: TCellTypes;\n    score: number;\n    direction: number;\n    gameOver: boolean;\n};\n\nexport class Game implements IGame {\n    private defaultState = { cells: [] };\n    private size: number;\n    private fullSize: number;\n    private state: TGameState = this.defaultState;\n    private snakes: Array<LosingLengthSnake> = [];\n    private food: Array<Food> = [];\n    private _cellsForView: TCellTypes = [];\n\n    constructor(size: number = 10) {\n        this.size = size;\n        this.fullSize = size * size;\n        this.reset();\n        this._cellsForView = this.makeCellsForView();\n    }\n\n    public reset(): void {\n        const center = [Math.trunc(this.size / 2), Math.trunc(this.size / 2)];\n        this.snakes = [new LosingLengthSnake({\n            name: 'My smart snake',\n            snake: [\n                [center[0], center[1]+1],\n                [center[0], center[1]],\n                [center[0], center[1]-1],\n            ],\n            tableSize: this.size,\n        })];\n\n        this.food = [\n            new Food(this.size),\n        ];\n    }\n\n    public tick(): TCellTypes {\n        // console.time('reduce');\n        const gameObjects = Array<GameObject>(...this.food, ...this.snakes);\n        this.state = this.reduce(gameObjects, this.reduce(gameObjects, this.defaultState), false);\n        // console.timeEnd('reduce');\n        // console.time('conversion');\n        this._cellsForView = this.makeCellsForView();\n        // console.timeEnd('conversion');\n        return this._cellsForView;\n    }\n\n    public reduce(array: Array<GameObject>, state: TGameState, forward: boolean = true): TGameState {\n        const methodName = forward ? 'reduce' : 'reduceRight';\n        return array[methodName]((accumulator: TGameState, item: GameObject) => item.reducer(accumulator, forward), state);\n    }\n\n    protected makeEmptyCellsForView(): TCellTypes {\n        return this._cellsForView = Array<CellType>(this.fullSize).fill(CellType.empty);\n    }\n\n    protected indexToCoordinate(index: number, max: number): TCoordinate {\n        return [Math.trunc(index / max), Math.trunc(index % max)];\n    }\n\n    protected coordinateToIndex([y, x]: TCoordinate): number {\n        return y * this.size + x;\n    }\n\n    protected makeCellsForView(): TCellTypes {\n        if (this._cellsForView.length === 0) {\n            return this._cellsForView = this.makeEmptyCellsForView();\n        }\n\n        const cellTypeIndex = (value: CellType) => Object.keys(CellType).indexOf(value);\n\n        const cellsSorted = this.state.cells.sort((a: TCell, b: TCell) => {\n            if (this.coordinateToIndex(a.coordinate) < this.coordinateToIndex(b.coordinate)) {\n                return 1;\n            }\n\n            if (this.coordinateToIndex(a.coordinate) > this.coordinateToIndex(b.coordinate)) {\n                return -1;\n            }\n\n            if (this.coordinateToIndex(a.coordinate) === this.coordinateToIndex(b.coordinate)) {\n                if (cellTypeIndex(a.type) < cellTypeIndex(b.type)) {\n                    return 1;\n                }\n\n                if (cellTypeIndex(a.type) > cellTypeIndex(b.type)) {\n                    return -1;\n                }\n                return 0;\n            }\n\n            throw new Error('Imposible');\n        });\n\n        return this._cellsForView = this.makeEmptyCellsForView().map((l, index) => {\n            const [y1, x1] = this.indexToCoordinate(index, this.size);\n            return cellsSorted.find(({ coordinate: [y, x] }: TCell) => x === x1 && y === y1)?.type || CellType.empty;\n        });\n    }\n\n    public get cells(): TCellTypes {\n        return this._cellsForView;\n    }\n\n    public set direction(angle: TDegree) {\n        this.snakes[0].direction = angle;\n    }\n\n    public get gameOver(): boolean {\n        return this.snakes.length === 0 || this.snakes.filter(({ died }) => died).length === this.snakes.length;\n    }\n\n    public get score(): number {\n        return this.snakes[0].score;\n    }\n\n    public get stepsLeft(): number {\n        return this.snakes[0].stepsLeft;\n    }\n};","import React, { FC, memo } from 'react';\n\nimport { CellType } from '../core/types';\n\ninterface IProps {\n  cellType: CellType,\n}\n\nconst CellCssGrid: FC<IProps> = ({ cellType }) => <div className={cellType}></div>;\n\nexport default memo(CellCssGrid);\n\n// @ts-ignore\nCellCssGrid.whyDidYouRender = true\n","import React, { FC, memo } from 'react';\nimport withStyles, { WithStylesProps } from 'react-jss'\n\nimport { TCellTypes, CellType } from '../core/types';\nimport CellCssGrid from './Cell';\n\nconst styles = {\n  container: {\n    width: '100%',\n    height: '100%',\n    border: '2px dashed #F7EEEE',\n    borderRadius: 5,\n    display: 'grid',\n    gridColumnGap: 0,\n    gridRowGap: 0,\n  }\n};\n\ninterface IProps extends WithStylesProps<typeof styles> {\n  cells: TCellTypes,\n}\n\nconst TableCssGrid: FC<IProps> = ({ classes, cells }) => {\n  const result = (\n    <div\n      className={`table-css-grid-container ${classes.container}`}\n      style={{\n        gridTemplateColumns: `repeat(${Math.sqrt(cells.length)}, 1fr)`,\n        gridTemplateRows: `repeat(${Math.sqrt(cells.length)}, 1fr)`,\n      }}\n    >\n      {cells.map((cellType: CellType, index: number) => (<CellCssGrid key={index} cellType={cellType} />))}\n    </div>\n  );\n  return result;\n}\n\nexport default memo(withStyles(styles)(TableCssGrid));\n\n// @ts-ignore\nTableCssGrid.whyDidYouRender = true;\n","import React, { FC } from 'react';\nimport withStyles, { WithStylesProps } from 'react-jss'\nimport classNames from \"classnames\";\n\nconst styles = {\n  wrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100vw',\n    height: '100vh',\n    margin: 'auto',\n  },\n  wrappedMobile: {\n    display: 'inherit',\n  },\n  container: {\n    margin: '0 auto',\n  },\n};\n\ninterface IProps extends WithStylesProps<typeof styles> {\n  children: React.ReactNode,\n  isMobile?: boolean,\n}\n\nconst FlexAlignCenter: FC<IProps> = ({ classes, children, isMobile }) =>\n  <div className={classNames(\n    classes.wrapper, \n    {[classes.wrappedMobile]: isMobile}, \n  )}>\n    <div className={classes.container}>{children}</div>\n  </div>;\n\nexport default withStyles(styles)(FlexAlignCenter);\n","import React, { FC, useCallback } from 'react';\nimport withStyles, { WithStylesProps } from 'react-jss'\n\nexport type TRainbowButtonColor = 'green' | 'orange' | 'blue';\nexport type TRainbowButtonTextColor = 'greenButtonText' | 'orangeButtonText' | 'blueButtonText';\n\nconst styles = {\n  btn: {\n    display: 'inline-block',\n    minWidth: 270,\n    margin: '0.4em',\n    padding: '0.7em 3em',\n    fontWeight: 400,\n    fontSize: 30,\n    backgroundColor: 'transparent',\n    border: '4px solid transparent',\n    borderImage: 'linear-gradient(to right, #add356 0%, #00dfa6 100%)',\n    borderImageSlice: 1,\n    backgroundClip: 'border-box',\n    cursor: 'pointer',\n    ['textAlign' as any]: 'center',\n  },\n  green: {\n    borderImageSlice: 1,\n    borderImage: 'linear-gradient(to right, #add356 0%, #00dfa6 100%)',\n  },\n  greenButtonText: {\n    background: '-webkit-linear-gradient(left, #add356, #00dfa6)',\n    WebkitBackgroundClip: 'text',\n    WebkitTextFillColor: 'transparent',\n    },\n  orange: {\n    borderImageSlice: 1,\n    borderImage: 'linear-gradient(to right, #ffcb52 0%, #ff451f 100%)',\n  },\n  orangeButtonText: {\n    background: '-webkit-linear-gradient(left, #ffcb52, #ff451f)',\n    WebkitBackgroundClip: 'text',\n    WebkitTextFillColor: 'transparent',\n  },\n  blue: {\n    borderImageSlice: 1,\n    borderImage: 'linear-gradient(to right, #3dade9 0%, #bf2fcb 100%)',\n  },\n  blueButtonText: {\n    background: '-webkit-linear-gradient(left, #3dade9, #bf2fcb)',\n    WebkitBackgroundClip: 'text',\n    WebkitTextFillColor: 'transparent',\n  },\n};\n\ninterface IProps extends WithStylesProps<typeof styles> {\n  color: TRainbowButtonColor,\n  onClick: Function,\n}\n\nconst RainbowButton: FC<IProps> = ({ children, classes, color, onClick }) => {\n  const _onClick = useCallback(() => onClick(), [onClick]);\n  const containerClasses = `${classes.btn} ${classes[color]}`;\n  const textClasses = classes[`${color}ButtonText` as TRainbowButtonTextColor];\n\n  return <button className={containerClasses} onClick={_onClick}><p className={textClasses}>{children}</p></button>;\n}\nexport default withStyles(styles)(RainbowButton);\n","import React, { FC, useCallback } from 'react';\nimport withStyles, { WithStylesProps } from 'react-jss'\n\nimport { GameState } from '../core/types';\nimport AlignCenter from './AlignCenter';\nimport RainbowButton from './RainbowButton';\n\nconst styles = {\n  container: {\n    height: '100%',\n    top: 0,\n    left: 0,\n    fontSize: 'xx-large',\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    width: '100%',\n    cursor: 'default',\n    ['textAlign' as any]: 'center',\n    ['position' as any]: 'fixed',\n  },\n  article: {\n    marginTop: '1em',\n  },\n  text: {\n    top: '47%',\n    color: 'white',\n    ['position' as any]: 'relative',\n    ['textAlign' as any]: 'center',\n  },\n  title: {\n    fontSize: 70,\n    marginBottom: '0.2em',\n  },\n  score: {\n    fontSize: 40,\n  },\n  description: {\n    marginTop: '1.5em',\n    fontSize: 25,\n  },\n};\n\ninterface IProps extends WithStylesProps<typeof styles> {\n  score: number,\n  state: GameState,\n  start: Function,\n  reset: Function,\n}\n\nconst Popup: FC<IProps> = ({ classes, score, state, start, reset }) => {\n  const _start = useCallback(() => start(), [start]);\n  const _reset = useCallback(() => reset(), [reset]);\n\n  return (\n    <div className={classes.container}>\n      <AlignCenter>\n        <div className={`${classes.text} ${classes.title}`}>\n          { state === GameState.ready ? 'Hi there!' : null}\n          { state === GameState.pause ? 'Pause' : null}\n          { state === GameState.gameOver ? 'You los\\'' : null}\n        </div>\n        { state === GameState.pause || state === GameState.gameOver\n          ? (<div className={`${classes.text} ${classes.score}`}>Score: {score}</div>)\n          : null\n        }\n\n          <article className={classes.article}>\n            { state === GameState.ready || state === GameState.pause\n              ? (\n                <RainbowButton onClick={_start} color=\"green\">\n                  {state === GameState.ready ? 'Start' : 'Continue'}\n                </RainbowButton>\n              )\n              : null\n            }\n\n            { state === GameState.gameOver || state === GameState.pause\n              ? (\n                <RainbowButton onClick={_reset} color={state === GameState.pause ? 'blue' : 'orange'}>\n                  {state === GameState.pause ? 'New Game' : 'Try again'}\n                </RainbowButton>\n              )\n              : null}\n          </article>\n\n        <div className={`${classes.text} ${classes.description}`}>\n          { state === GameState.ready ? ' Press the button or \"space\" to start' : null}\n          { state === GameState.pause ? ' Press \"space\" to continue or \"R\" to restart' : null}\n          { state === GameState.gameOver ? ' Press the button or \"space\" to restart' : null}\n        </div>\n      </AlignCenter>\n    </div>\n  );\n}\n\nexport default withStyles(styles)(Popup);\n","import React, { FC } from 'react';\nimport withStyles, { WithStylesProps } from 'react-jss'\n\nconst padding = 30;\nconst size = 75;\n\nconst getColor = () => {\n  const colors = [\n    '#fd9170',\n    '#ef857c',\n    '#e8e277',\n    '#9ee0a1',\n    '#90d8af',\n    '#9ED9EB',\n    '#9EB3EB',\n    '#C49EEB',\n    '#DB9EEB',\n  ];\n  return colors[0];\n  // return colors[Math.floor((Math.random() * colors.length))]\n};\n  \nconst styles = {\n  paper: {\n    '@media (orientation: landscape)': {\n      width: size+'vh',\n      height: size+'vh',\n    },\n    '@media (orientation: portrait)': {\n      width: size+'vw',\n      height: size+'vw',\n    },\n    '@media only screen and (max-device-width: 720px)': {\n      width: '100vw',\n      height: '100vw',\n    },\n    backgroundColor: getColor(),\n    borderRadius: 12,\n    ['position' as any]: 'relative',\n    ['boxShadow' as any]: '0 1px 4px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 0, 0, 0.1) inset',\n    '&::before': {\n      ['position' as any]: 'absolute',\n      content: 'open-quote',\n      top: 100,\n      bottom: 5,\n      left: 30,\n      right: 30,\n      zIndex: -1,\n      boxShadow: '0 0 40px 13px #848484;',\n      borderRadius: '100px/20px',\n    },\n    '&::after': {\n      ['position' as any]: 'absolute',\n      content: 'open-quote',\n      top: 100,\n      bottom: 5,\n      left: 30,\n      right: 30,\n      zIndex: -1,\n      boxShadow: '0 0 40px 13px #848484;',\n      borderRadius: '100px/20px',\n    }\n  },\n  content: {\n    height: `calc(100% - 4px - ${padding}px - ${padding}px)`,\n    width: `calc(100% - 4px - ${padding}px - ${padding}px)`,\n    margin: `${padding}px`,\n    display: 'inline-block',\n  },\n};\n\ninterface IProps extends WithStylesProps<typeof styles> {\n  children: React.ReactNode\n}\n\nconst Paper: FC<IProps> = ({ classes, children }) =>\n  <div className={classes.paper}>\n    <div className={classes.content}>\n      {children}\n    </div>\n  </div>;\n\nexport default withStyles(styles)(Paper);\n","import React, { FC, useCallback } from 'react';\nimport withStyles, { WithStylesProps } from 'react-jss'\n\nconst styles = {\n  container: {\n    display: 'flex',\n    marginTop: 5,\n    justifyContent: 'space-evenly',\n    width: '100%',\n  },\n  text: {\n    padding: 6,\n    font: \"900 25px/1 'Source Sans Pro', Arial, sans-serif\",\n    ['textTransform' as any]: 'uppercase',\n    color: '#fff',\n    backgroundColor: '#fb8f6e',\n  },\n  menu: {\n    backgroundColor: 'rgb(251, 143, 110)',\n    zoom: 1,\n    fill: 'white',\n    height: 37,\n    width: 37,\n    '&:hover': {\n      backgroundColor: 'rgb(253, 174, 150)',\n    }\n  },\n};\n\ninterface IProps extends WithStylesProps<typeof styles> {\n  score: number,\n  stepsLeft: number,\n  pause: Function,\n}\n\nconst MenuBar: FC<IProps> = ({ classes, score, stepsLeft, pause }) => {\n  const _pause = useCallback(() => pause(), [pause]);\n  return (\n    <div className={classes.container} onClick={_pause}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className={classes.menu} height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/></svg>\n      <p className={classes.text}>Score: {score >= 0 ? score : 0}</p>\n      <p className={classes.text}>Steps left: {stepsLeft}</p>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(MenuBar);\n","import React, { FC } from 'react';\nimport withStyles, { WithStylesProps } from 'react-jss'\n\nconst styles = {\n  container: {\n    margin: 5,\n    bottom: 0,\n    ['position' as any]: 'fixed',\n  },\n  link: {\n    textShadow: '1px 1px 1px #656363',\n    textDecoration: 'inherit',\n    color: 'white',\n  },\n};\n\nconst Copyright: FC<WithStylesProps<typeof styles>> = ({ classes }) =>\n  <div className={classes.container}>\n    <a className={classes.link}\n      href=\"https://github.com/specialistvlad/snake-mini-game-web\"\n      rel=\"noopener noreferrer\"\n      target=\"_blank\">Project on GitHub</a>\n  </div>;\n\nexport default withStyles(styles)(Copyright);\n","import React, { FC, useState, useEffect, useCallback } from 'react';\nimport withStyles, { WithStylesProps } from 'react-jss'\nimport useEventListener from '@use-it/event-listener';\nimport { useSwipeable } from 'react-swipeable'\nimport { isMobile } from 'react-device-detect';\n\nimport { GameState } from '../core/types';\nimport game from '../core/game';\nimport Table from './Table';\nimport Popup from './Popup';\nimport Paper from './Paper';\nimport MenuBar from './MenuBar';\nimport Copyright from './Copyright';\n\nconst size = 75;\n\nlet step = 0;\n\nconst styles = {\n  container: {\n    height: '100%',\n    '@media (orientation: landscape)': {\n      width: size+'vh',\n    },\n    '@media (orientation: portrait)': {\n      width: size+'vw',\n    },\n    '@media only screen and (max-device-width: 720px)': {\n      width: '100vw',\n    },\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    margin: 'auto',\n    ['flexDirection' as any]: 'column',\n  },\n  spacer: { height: 25 },\n};\n\nconst Game: FC<WithStylesProps<typeof styles>> = ({ classes }) => {\n  const [state, setState] = useState<GameState>(GameState.ready);\n  const [cells, setCells] = useState(game.cells);\n  const [score, setScore] = useState<number>(game.score);\n  const [stepsLeft, setStepsLeft] = useState<number>(game.stepsLeft);\n\n  const callback = useCallback(event => {\n    switch (event?.dir || event?.code) {\n      case 'Right':\n      case 'ArrowRight':\n      case 'KeyD':\n        game.direction = 0;\n        break;\n  \n      case 'Down':\n      case 'ArrowDown':\n      case 'KeyS':\n        game.direction = 90;\n        break;\n  \n      case 'Left':\n      case 'ArrowLeft':\n      case 'KeyA':\n        game.direction = 180;\n        break;\n  \n      case 'Up':\n      case 'ArrowUp':\n      case 'KeyW':\n        game.direction = 270;\n        break;\n\n      case 'Space':\n      case 'Escape':\n      case 'Enter':\n      case 'Menu':\n      case 'StartGame':\n        if (game.gameOver) {\n          game.reset();\n        }\n        if (state === GameState.running) {\n          setState(GameState.pause);\n        } else {\n          setState(GameState.running);\n        }\n        break;\n          \n      case 'KeyR':\n      case 'ResetGame':\n        game.reset();\n        setState(GameState.running);\n        break;\n    }\n  }, [state]);\n\n  // reactions on button press\n  useEventListener('keydown', callback);\n\n  // reactions on swipes\n  const handlers = useSwipeable({\n    onSwiped: callback,\n    preventDefaultTouchmoveEvent: true,\n    trackMouse: true\n  });\n\n  // syncronization signal for the game\n  useEffect(() => {\n    const tmp = setInterval(() => {\n      if (step < 1000 && state === GameState.running) {\n        step++;\n        // console.time('tick');\n        setCells(game.tick());\n        // console.timeEnd('tick');\n      }\n\n      if (game.gameOver) {\n        setState(GameState.gameOver);\n      }\n\n      setScore(game.score);\n      setStepsLeft(game.stepsLeft);\n    }, isMobile ? 350 : 250);\n\n    return () => clearTimeout(tmp);\n  }, [state]);\n\n  const start = useCallback(() => callback({ code: 'StartGame' }), [callback]);\n  const reset = useCallback(() => callback({ code: 'ResetGame' }), [callback]);\n  const pause = useCallback(() => callback({ code: 'Menu' }), [callback]);\n\n  return (\n    <div className={classes.container} {...handlers}>\n      <MenuBar score={score} stepsLeft={stepsLeft} pause={pause}/>\n      <div className={classes.spacer}/>\n      <Paper>\n        <Table cells={cells} />\n      </Paper>\n      {state === GameState.running\n        ? null\n        : <Popup\n        state={state}\n        score={score}\n        start={start}\n        reset={reset}\n        />\n      }\n      <Copyright/>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(Game);\n","import './index.css';\n\nimport React from 'react';\n\nimport { render } from 'react-dom';\nimport Game from './components/Game';\n\nif (process.env.NODE_ENV === 'development') {\n  const whyDidYouRender = require('@welldone-software/why-did-you-render');\n  whyDidYouRender(React);\n}\n\nrender(<Game />, document.getElementById('root'));\n"],"sourceRoot":""}